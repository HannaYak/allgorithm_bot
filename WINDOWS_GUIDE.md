# ü™ü –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –¥–ª—è Windows 11 - Allgorithm Telegram Bot

–ü—Ä–∏–≤–µ—Ç! –≠—Ç–æ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ –¥–ª—è Windows 11. –í—Å—ë –ø—Ä–æ—Å—Ç–æ –∏ –ø–æ–Ω—è—Ç–Ω–æ üôÇ

---

## üìã –ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –≤ –Ω–∞—á–∞–ª–µ?

–ü–µ—Ä–µ–¥ —Ç–µ–º –∫–∞–∫ –Ω–∞—á–∞—Ç—å, –Ω—É–∂–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø—Ä–æ–≥—Ä–∞–º–º.

### –®–∞–≥ 0: –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã

#### 1Ô∏è‚É£ –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Node.js

Node.js ‚Äî —ç—Ç–æ –ø—Ä–æ–≥—Ä–∞–º–º–∞, –∫–æ—Ç–æ—Ä–∞—è –ø–æ–∑–≤–æ–ª—è–µ—Ç –∑–∞–ø—É—Å–∫–∞—Ç—å JavaScript –∫–æ–¥.

**–ö–∞–∫ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å:**

1. –û—Ç–∫—Ä–æ–π—Ç–µ https://nodejs.org
2. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –∑–µ–ª—ë–Ω—É—é –∫–Ω–æ–ø–∫—É "LTS" (—ç—Ç–æ —Å—Ç–∞–±–∏–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è)
3. –°–∫–∞—á–∞–µ—Ç—Å—è —Ñ–∞–π–ª `node-vXX.XX.X.msi`
4. –û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª –∏ –Ω–∞–∂–∏–º–∞–π—Ç–µ "Next" ‚Üí "Next" ‚Üí "Finish"
5. –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ –∫–æ–º–ø—å—é—Ç–µ—Ä

**–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —É—Å—Ç–∞–Ω–æ–≤–∫—É:**

1. –û—Ç–∫—Ä–æ–π—Ç–µ **Command Prompt** (–Ω–∞–∂–º–∏—Ç–µ `Win + R`, –Ω–∞–ø–∏—à–∏—Ç–µ `cmd`, –Ω–∞–∂–º–∏—Ç–µ Enter)
2. –ù–∞–ø–∏—à–∏—Ç–µ:
```
node --version
```
3. –î–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å —á—Ç–æ-—Ç–æ —Ç–∏–ø–∞: `v20.10.0`

#### 2Ô∏è‚É£ –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Git

Git ‚Äî —ç—Ç–æ –ø—Ä–æ–≥—Ä–∞–º–º–∞ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–æ–¥–æ–º.

**–ö–∞–∫ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å:**

1. –û—Ç–∫—Ä–æ–π—Ç–µ https://git-scm.com/download/win
2. –°–∫–∞—á–∞–µ—Ç—Å—è —Ñ–∞–π–ª `Git-2.XX.X-64-bit.exe`
3. –û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª –∏ –Ω–∞–∂–∏–º–∞–π—Ç–µ "Next" ‚Üí "Next" ‚Üí "Finish"
4. –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ –∫–æ–º–ø—å—é—Ç–µ—Ä

**–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —É—Å—Ç–∞–Ω–æ–≤–∫—É:**

1. –û—Ç–∫—Ä–æ–π—Ç–µ Command Prompt
2. –ù–∞–ø–∏—à–∏—Ç–µ:
```
git --version
```
3. –î–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å —á—Ç–æ-—Ç–æ —Ç–∏–ø–∞: `git version 2.40.0`

#### 3Ô∏è‚É£ –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å pnpm

pnpm ‚Äî —ç—Ç–æ –º–µ–Ω–µ–¥–∂–µ—Ä –ø–∞–∫–µ—Ç–æ–≤ (–ø–æ–º–æ—â–Ω–∏–∫ –¥–ª—è —Å–∫–∞—á–∏–≤–∞–Ω–∏—è –±–∏–±–ª–∏–æ—Ç–µ–∫).

**–ö–∞–∫ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å:**

1. –û—Ç–∫—Ä–æ–π—Ç–µ Command Prompt
2. –ù–∞–ø–∏—à–∏—Ç–µ:
```
npm install -g pnpm
```
3. –ü–æ–¥–æ–∂–¥–∏—Ç–µ, –ø–æ–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ:
```
pnpm --version
```
–î–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å —á—Ç–æ-—Ç–æ —Ç–∏–ø–∞: `8.10.0`

---

## üöÄ –®–∞–≥ 1: –°–∫–∞—á–∞—Ç—å –∫–æ–¥ –±–æ—Ç–∞ –Ω–∞ —Å–≤–æ–π –∫–æ–º–ø—å—é—Ç–µ—Ä

### 1.1 –°–∫–∞—á–∞—Ç—å –ø–∞–ø–∫—É —Å –∫–æ–¥–æ–º

–Ø —É–∂–µ —Å–æ–∑–¥–∞–ª –≤–µ—Å—å –∫–æ–¥ –¥–ª—è –≤–∞—Å. –ù—É–∂–Ω–æ —Å–∫–∞—á–∞—Ç—å –µ–≥–æ:

1. –û—Ç–∫—Ä–æ–π—Ç–µ –ø–∞–ø–∫—É, –≥–¥–µ –≤—ã —Ö–æ—Ç–∏—Ç–µ —Ö—Ä–∞–Ω–∏—Ç—å –ø—Ä–æ–µ–∫—Ç (–Ω–∞–ø—Ä–∏–º–µ—Ä, `C:\Users\YourName\Documents`)
2. –û—Ç–∫—Ä–æ–π—Ç–µ Command Prompt –≤ —ç—Ç–æ–π –ø–∞–ø–∫–µ:
   - –ù–∞–∂–º–∏—Ç–µ `Shift + Right Click` –≤ –ø—É—Å—Ç–æ–º –º–µ—Å—Ç–µ –ø–∞–ø–∫–∏
   - –í—ã–±–µ—Ä–∏—Ç–µ "Open PowerShell window here" (–∏–ª–∏ "Open Command Prompt here")
3. –ù–∞–ø–∏—à–∏—Ç–µ:
```
git clone https://github.com/YOUR_USERNAME/allgorithm_bot.git
cd allgorithm_bot
```

–ï—Å–ª–∏ —É –≤–∞—Å –Ω–µ—Ç GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è, –ø—Ä–æ—Å—Ç–æ —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ –ø–∞–ø–∫—É –ø—Ä–æ–µ–∫—Ç–∞ –Ω–∞ —Å–≤–æ–π –∫–æ–º–ø—å—é—Ç–µ—Ä.

### 1.2 –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

–í Command Prompt (–≤ –ø–∞–ø–∫–µ `allgorithm_bot`) –Ω–∞–ø–∏—à–∏—Ç–µ:

```
pnpm install
```

–≠—Ç–æ —Å–∫–∞—á–∞–µ—Ç –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏. –ú–æ–∂–µ—Ç –∑–∞–Ω—è—Ç—å 2-3 –º–∏–Ω—É—Ç—ã.

---

## üîë –®–∞–≥ 2: –ü–æ–ª—É—á–∏—Ç—å —Ç–æ–∫–µ–Ω Telegram –±–æ—Ç–∞

### 2.1 –°–æ–∑–¥–∞—Ç—å –±–æ—Ç–∞ –≤ BotFather

1. –û—Ç–∫—Ä–æ–π—Ç–µ Telegram
2. –ù–∞–π–¥–∏—Ç–µ –±–æ—Ç–∞ `@BotFather`
3. –ù–∞–ø–∏—à–∏—Ç–µ `/newbot`
4. –°–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º:
   - –ü—Ä–∏–¥—É–º–∞–π—Ç–µ –∏–º—è –¥–ª—è –±–æ—Ç–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, "AllgorithmBot")
   - –ü—Ä–∏–¥—É–º–∞–π—Ç–µ username (–Ω–∞–ø—Ä–∏–º–µ—Ä, "allgorithm_bot_123")
5. BotFather –≤–∞–º –¥–∞—Å—Ç **—Ç–æ–∫–µ–Ω** (–≤—ã–≥–ª—è–¥–∏—Ç —Ç–∞–∫: `123456:ABC-DEF1234ghIkl-zyx57W2v1u123ew11`)
6. **–°–∫–æ–ø–∏—Ä—É–π—Ç–µ —ç—Ç–æ—Ç —Ç–æ–∫–µ–Ω** - –æ–Ω –≤–∞–º –Ω—É–∂–µ–Ω –¥–∞–ª—å—à–µ

---

## üìù –®–∞–≥ 3: –°–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª `.env.local`

–≠—Ç–æ—Ç —Ñ–∞–π–ª —Ö—Ä–∞–Ω–∏—Ç —Å–µ–∫—Ä–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (—Ç–æ–∫–µ–Ω—ã, –ø–∞—Ä–æ–ª–∏ –∏ —Ç.–¥.).

### 3.1 –°–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª

1. –û—Ç–∫—Ä–æ–π—Ç–µ –ø–∞–ø–∫—É –ø—Ä–æ–µ–∫—Ç–∞ (`allgorithm_bot`)
2. –ù–∞–∂–º–∏—Ç–µ `Right Click` –≤ –ø—É—Å—Ç–æ–º –º–µ—Å—Ç–µ
3. –í—ã–±–µ—Ä–∏—Ç–µ "New" ‚Üí "Text Document"
4. –ù–∞–∑–æ–≤–∏—Ç–µ —Ñ–∞–π–ª `.env.local` (–≤–∞–∂–Ω–æ: —Ç–æ—á–∫–∞ –≤ –Ω–∞—á–∞–ª–µ!)
5. –û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª –≤ –±–ª–æ–∫–Ω–æ—Ç–µ (Notepad)

### 3.2 –î–æ–±–∞–≤–∏—Ç—å —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ

–í—Å—Ç–∞–≤—å—Ç–µ –≤ —Ñ–∞–π–ª:

```env
# Telegram Bot
TELEGRAM_BOT_TOKEN=–≤—Å—Ç–∞–≤—å—Ç–µ_–≤–∞—à_—Ç–æ–∫–µ–Ω_—Å—é–¥–∞

# Database (–æ—Å—Ç–∞–≤—å—Ç–µ –∫–∞–∫ –µ—Å—Ç—å –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è)
DATABASE_URL=mysql://localhost/allgorithm

# Node Environment
NODE_ENV=development
```

**–ó–∞–º–µ–Ω–∏—Ç–µ `–≤—Å—Ç–∞–≤—å—Ç–µ_–≤–∞—à_—Ç–æ–∫–µ–Ω_—Å—é–¥–∞` –Ω–∞ —Ç–æ–∫–µ–Ω, –∫–æ—Ç–æ—Ä—ã–π –≤–∞–º –¥–∞–ª BotFather!**

–ü—Ä–∏–º–µ—Ä:
```env
TELEGRAM_BOT_TOKEN=123456:ABC-DEF1234ghIkl-zyx57W2v1u123ew11
```

### 3.3 –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ñ–∞–π–ª

1. –ù–∞–∂–º–∏—Ç–µ `Ctrl + S`
2. –ó–∞–∫—Ä–æ–π—Ç–µ –±–ª–æ–∫–Ω–æ—Ç

---

## üß™ –®–∞–≥ 4: –ó–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç–∞ –ª–æ–∫–∞–ª—å–Ω–æ (—Ç–µ—Å—Ç)

### 4.1 –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–µ—Ä

1. –û—Ç–∫—Ä–æ–π—Ç–µ Command Prompt –≤ –ø–∞–ø–∫–µ –ø—Ä–æ–µ–∫—Ç–∞
2. –ù–∞–ø–∏—à–∏—Ç–µ:

```
pnpm dev
```

–î–æ–ª–∂–Ω–æ –≤—ã–≤–µ—Å—Ç–∏ —á—Ç–æ-—Ç–æ —Ç–∏–ø–∞:

```
[OAuth] Initialized with baseURL: https://api.manus.im
[Bot] Polling started
Server running on http://localhost:3000/
```

**–ï—Å–ª–∏ –≤–∏–¥–∏—Ç–µ —ç—Ç–æ - –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç! ‚úÖ**

### 4.2 –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤ Telegram

1. –û—Ç–∫—Ä–æ–π—Ç–µ Telegram
2. –ù–∞–π–¥–∏—Ç–µ —Å–≤–æ–µ–≥–æ –±–æ—Ç–∞ (–ø–æ username, –∫–æ—Ç–æ—Ä—ã–π –≤—ã –¥–∞–ª–∏)
3. –ù–∞–ø–∏—à–∏—Ç–µ `/start`
4. –î–æ–ª–∂–Ω–æ –ø–æ—è–≤–∏—Ç—å—Å—è –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ –∏ –∫–Ω–æ–ø–∫–∞ "–ü—Ä–æ–π—Ç–∏ –∞–Ω–∫–µ—Ç—É"

**–ï—Å–ª–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç - –æ—Ç–ª–∏—á–Ω–æ! üéâ**

### 4.3 –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –±–æ—Ç–∞

–ö–æ–≥–¥–∞ –∑–∞–∫–æ–Ω—á–∏—Ç–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å:

1. –í Command Prompt –Ω–∞–∂–º–∏—Ç–µ `Ctrl + C`
2. –ù–∞–ø–∏—à–∏—Ç–µ `Y` –∏ –Ω–∞–∂–º–∏—Ç–µ Enter

---

## üí≥ –®–∞–≥ 5: –î–æ–±–∞–≤–∏—Ç—å Stripe (–æ–ø–ª–∞—Ç–∞)

### 5.1 –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è –Ω–∞ Stripe

1. –û—Ç–∫—Ä–æ–π—Ç–µ https://stripe.com
2. –ù–∞–∂–º–∏—Ç–µ "Sign up"
3. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ
4. –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ email

### 5.2 –ü–æ–ª—É—á–∏—Ç—å API –∫–ª—é—á–∏

1. –í–æ–π–¥–∏—Ç–µ –≤ Stripe Dashboard
2. –°–ª–µ–≤–∞ –Ω–∞–∂–º–∏—Ç–µ "Developers" ‚Üí "API keys"
3. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ:
   - **Publishable key** (–Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å `pk_test_`)
   - **Secret key** (–Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å `sk_test_`)

### 5.3 –î–æ–±–∞–≤–∏—Ç—å –∫–ª—é—á–∏ –≤ `.env.local`

1. –û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª `.env.local` –≤ –±–ª–æ–∫–Ω–æ—Ç–µ
2. –î–æ–±–∞–≤—å—Ç–µ –≤ –∫–æ–Ω–µ—Ü:

```env
STRIPE_SECRET_KEY=sk_test_–≤—Å—Ç–∞–≤—å—Ç–µ_–≤–∞—à_–∫–ª—é—á_—Å—é–¥–∞
STRIPE_PUBLIC_KEY=pk_test_–≤—Å—Ç–∞–≤—å—Ç–µ_–≤–∞—à_–∫–ª—é—á_—Å—é–¥–∞
```

3. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ —Ñ–∞–π–ª (`Ctrl + S`)

---

## üéÆ –®–∞–≥ 6: –î–æ–±–∞–≤–∏—Ç—å –∏–≥—Ä–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

### 6.1 –û—Ç–∫—Ä—ã—Ç—å —Ñ–∞–π–ª —Å –∫–æ–¥–æ–º

1. –û—Ç–∫—Ä–æ–π—Ç–µ –ø–∞–ø–∫—É –ø—Ä–æ–µ–∫—Ç–∞
2. –û—Ç–∫—Ä–æ–π—Ç–µ –ø–∞–ø–∫—É `server` ‚Üí `bot`
3. –ù–∞–π–¥–∏—Ç–µ —Ñ–∞–π–ª `handlers.ts`
4. –û—Ç–∫—Ä–æ–π—Ç–µ –µ–≥–æ –≤ —Ä–µ–¥–∞–∫—Ç–æ—Ä–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, VS Code)

### 6.2 –î–æ–±–∞–≤–∏—Ç—å –∫–Ω–æ–ø–∫—É "–î–∞–π —Ç–µ–º—É!"

–ù–∞–π–¥–∏—Ç–µ –≤ —Ñ–∞–π–ª–µ —Å—Ç—Ä–æ–∫—É:
```typescript
bot.action('game_talk_toast', async (ctx) => {
```

–ó–∞–º–µ–Ω–∏—Ç–µ –µ—ë –Ω–∞:

```typescript
bot.action('game_talk_toast', async (ctx) => {
  await ctx.reply('üçΩÔ∏è **Talk & Toast**\n\n8 —á–µ–ª–æ–≤–µ–∫, –æ–¥–∏–Ω –±–æ–ª—å—à–æ–π —Å—Ç–æ–ª, –≤–∏–∫—Ç–æ—Ä–∏–Ω–∞ –∏–∑ —Ñ–∞–∫—Ç–æ–≤ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤.', {
    reply_markup: {
      inline_keyboard: [
        [{ text: 'üéØ –î–∞–π —Ç–µ–º—É!', callback_data: 'topic_event_1' }],
        [{ text: 'üìã –ü—Ä–∞–≤–∏–ª–∞', callback_data: 'talk_toast_rules' }],
        [{ text: '‚¨ÖÔ∏è –ù–∞–∑–∞–¥', callback_data: 'games' }],
      ],
    },
    parse_mode: 'Markdown',
  });
  await ctx.answerCbQuery();
});
```

### 6.3 –î–æ–±–∞–≤–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è "–î–∞–π —Ç–µ–º—É!"

–í –∫–æ–Ω—Ü–µ —Ñ–∞–π–ª–∞ (–ø–µ—Ä–µ–¥ –ø–æ—Å–ª–µ–¥–Ω–µ–π —Å–∫–æ–±–∫–æ–π) –¥–æ–±–∞–≤—å—Ç–µ:

```typescript
  // –ö–Ω–æ–ø–∫–∞ "–î–∞–π —Ç–µ–º—É!" –¥–ª—è Talk & Toast
  bot.action(/topic_event_(\d+)/, async (ctx) => {
    const topics = [
      'üé¨ –ö–∞–∫–æ–π —Ç–≤–æ–π –ª—é–±–∏–º—ã–π —Ñ–∏–ª—å–º –∏ –ø–æ—á–µ–º—É?',
      '‚úàÔ∏è –ö—É–¥–∞ –±—ã —Ç—ã —Ö–æ—Ç–µ–ª –ø–æ–µ—Ö–∞—Ç—å –≤ –æ—Ç–ø—É—Å–∫?',
      'üçï –ö–∞–∫–æ–µ —Ç–≤–æ—ë –ª—é–±–∏–º–æ–µ –±–ª—é–¥–æ?',
      'üìö –ö–∞–∫—É—é –ø–æ—Å–ª–µ–¥–Ω—é—é –∫–Ω–∏–≥—É —Ç—ã —á–∏—Ç–∞–ª?',
      'üéµ –ö–∞–∫–æ–π —Ç–≤–æ–π –ª—é–±–∏–º—ã–π –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å?',
      'üèÉ –ß–µ–º —Ç—ã –∑–∞–Ω–∏–º–∞–µ—à—å—Å—è –≤ —Å–≤–æ–±–æ–¥–Ω–æ–µ –≤—Ä–µ–º—è?',
      'üåç –ï—Å–ª–∏ –±—ã —Ç—ã –º–æ–≥ –∂–∏—Ç—å –≤ –ª—é–±–æ–π —Å—Ç—Ä–∞–Ω–µ, –∫–∞–∫—É—é –≤—ã–±—Ä–∞–ª –±—ã?',
      'üí≠ –ö–∞–∫–æ–π –±—ã–ª —Å–∞–º—ã–π –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã–π –¥–µ–Ω—å –≤ —Ç–≤–æ–µ–π –∂–∏–∑–Ω–∏?',
    ];

    const randomTopic = topics[Math.floor(Math.random() * topics.length)];

    await ctx.reply(
      `üéØ **–¢–µ–º–∞ –¥–ª—è —Ä–∞–∑–≥–æ–≤–æ—Ä–∞:**\n\n${randomTopic}`,
      { parse_mode: 'Markdown' }
    );

    await ctx.answerCbQuery();
  });

  // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è –ø—Ä–∞–≤–∏–ª Talk & Toast
  bot.action('talk_toast_rules', async (ctx) => {
    await ctx.reply(
      'üìñ **–ü—Ä–∞–≤–∏–ª–∞ Talk & Toast**\n\n' +
      '1Ô∏è‚É£ –í—Å–µ —Å–∏–¥—è—Ç –∑–∞ –æ–¥–Ω–∏–º —Å—Ç–æ–ª–æ–º\n' +
      '2Ô∏è‚É£ –ú–æ–∂–Ω–æ –Ω–∞–∂–∞—Ç—å "–î–∞–π —Ç–µ–º—É!" –¥–ª—è —Å–ª—É—á–∞–π–Ω–æ–≥–æ –≤–æ–ø—Ä–æ—Å–∞\n' +
      '3Ô∏è‚É£ –ó–∞ 15 –º–∏–Ω—É—Ç –¥–æ –∫–æ–Ω—Ü–∞ ‚Äî –≤–∏–∫—Ç–æ—Ä–∏–Ω–∞\n' +
      '4Ô∏è‚É£ –í–∏–∫—Ç–æ—Ä–∏–Ω–∞ –∏–∑ —Ñ–∞–∫—Ç–æ–≤ –∞–Ω–∫–µ—Ç —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤\n' +
      '5Ô∏è‚É£ –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å: 2 —á–∞—Å–∞\n\n' +
      '<!-- PLACEHOLDER: –î–æ–±–∞–≤—å —Å–≤–æ–∏ –ø—Ä–∞–≤–∏–ª–∞ –∑–¥–µ—Å—å -->',
      { parse_mode: 'Markdown' }
    );
    await ctx.answerCbQuery();
  });
```

### 6.4 –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ñ–∞–π–ª

–ù–∞–∂–º–∏—Ç–µ `Ctrl + S`

---

## üöÄ –®–∞–≥ 7: –†–∞–∑–≤–µ—Ä–Ω—É—Ç—å –Ω–∞ Render.com (–æ–±–ª–∞–∫–æ)

### 7.1 –°–æ–∑–¥–∞—Ç—å GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π

1. –û—Ç–∫—Ä–æ–π—Ç–µ https://github.com
2. –ù–∞–∂–º–∏—Ç–µ "Sign up" –∏ —Å–æ–∑–¥–∞–π—Ç–µ –∞–∫–∫–∞—É–Ω—Ç
3. –ù–∞–∂–º–∏—Ç–µ "+" ‚Üí "New repository"
4. –ù–∞–∑–æ–≤–∏—Ç–µ –µ–≥–æ `allgorithm_bot`
5. –ù–∞–∂–º–∏—Ç–µ "Create repository"

### 7.2 –ó–∞–ª–∏—Ç—å –∫–æ–¥ –Ω–∞ GitHub

1. –û—Ç–∫—Ä–æ–π—Ç–µ Command Prompt –≤ –ø–∞–ø–∫–µ –ø—Ä–æ–µ–∫—Ç–∞
2. –ù–∞–ø–∏—à–∏—Ç–µ:

```
git init
git add .
git commit -m "Initial commit - Allgorithm bot"
git branch -M main
git remote add origin https://github.com/YOUR_USERNAME/allgorithm_bot.git
git push -u origin main
```

–ó–∞–º–µ–Ω–∏—Ç–µ `YOUR_USERNAME` –Ω–∞ –≤–∞—à username –Ω–∞ GitHub.

### 7.3 –°–æ–∑–¥–∞—Ç—å Web Service –Ω–∞ Render

1. –û—Ç–∫—Ä–æ–π—Ç–µ https://render.com
2. –ù–∞–∂–º–∏—Ç–µ "Sign up" –∏ –≤—ã–±–µ—Ä–∏—Ç–µ "Sign up with GitHub"
3. –ê–≤—Ç–æ—Ä–∏–∑—É–π—Ç–µ—Å—å
4. –ù–∞–∂–º–∏—Ç–µ "New +" ‚Üí "Web Service"
5. –í—ã–±–µ—Ä–∏—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π `allgorithm_bot`
6. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ:
   - **Name:** `allgorithm-bot`
   - **Build Command:** `pnpm install && pnpm build`
   - **Start Command:** `pnpm start`
   - **Environment:** Node

7. –ù–∞–∂–º–∏—Ç–µ "Create Web Service"

### 7.4 –î–æ–±–∞–≤–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

1. –ù–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ —Å–µ—Ä–≤–∏—Å–∞ –Ω–∞–∂–º–∏—Ç–µ "Environment"
2. –î–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:

```
TELEGRAM_BOT_TOKEN=–≤–∞—à_—Ç–æ–∫–µ–Ω
DATABASE_URL=–≤–∞—à–∞_–±–∞–∑–∞_–¥–∞–Ω–Ω—ã—Ö
STRIPE_SECRET_KEY=sk_test_...
STRIPE_PUBLIC_KEY=pk_test_...
NODE_ENV=production
```

3. –ù–∞–∂–º–∏—Ç–µ "Save"

### 7.5 –ü–æ–ª—É—á–∏—Ç—å URL –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

–ü–æ—Å–ª–µ —Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏—è Render –¥–∞—Å—Ç –≤–∞–º URL —Ç–∏–ø–∞:
```
https://allgorithm-bot.onrender.com
```

### 7.6 –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å webhook –¥–ª—è Telegram

1. –û—Ç–∫—Ä–æ–π—Ç–µ –±—Ä–∞—É–∑–µ—Ä
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –ø–æ —Å—Å—ã–ª–∫–µ (–∑–∞–º–µ–Ω–∏—Ç–µ —Ç–æ–∫–µ–Ω –∏ URL):

```
https://api.telegram.org/bot123456:ABC-DEF1234ghIkl-zyx57W2v1u123ew11/setWebhook?url=https://allgorithm-bot.onrender.com/api/telegram/webhook
```

–î–æ–ª–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å—Å—è:
```json
{"ok":true,"result":true,"description":"Webhook was set"}
```

**–ì–æ—Ç–æ–≤–æ! –í–∞—à –±–æ—Ç —Ç–µ–ø–µ—Ä—å —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ –æ–±–ª–∞–∫–µ 24/7! üéâ**

---

## üìù –ß—Ç–æ –Ω—É–∂–Ω–æ –∑–∞–ø–æ–ª–Ω–∏—Ç—å –≤—Ä—É—á–Ω—É—é?

### 1. –ü—Ä–∞–≤–∏–ª–∞ –∏–≥—Ä

–û—Ç–∫—Ä–æ–π—Ç–µ `server/bot/handlers.ts`

–ù–∞–π–¥–∏—Ç–µ:
```typescript
'<!-- PLACEHOLDER: –î–æ–±–∞–≤—å –ø—Ä–∞–≤–∏–ª–∞ –∑–¥–µ—Å—å -->\n' +
'–ü—Ä–∞–≤–∏–ª–∞ –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º.'
```

–ó–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ —Å–≤–æ–∏ –ø—Ä–∞–≤–∏–ª–∞.

### 2. –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ

–ù–∞–π–¥–∏—Ç–µ:
```typescript
'üëã –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ Allgorithm!\n\n'
```

–ò–∑–º–µ–Ω–∏—Ç–µ —Ç–µ–∫—Å—Ç –Ω–∞ —Å–≤–æ–π.

---

## ‚úÖ –ß–µ–∫–ª–∏—Å—Ç –¥–ª—è Windows

- [ ] –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω Node.js (–ø—Ä–æ–≤–µ—Ä–∫–∞: `node --version`)
- [ ] –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω Git (–ø—Ä–æ–≤–µ—Ä–∫–∞: `git --version`)
- [ ] –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω pnpm (–ø—Ä–æ–≤–µ—Ä–∫–∞: `pnpm --version`)
- [ ] –°–∫–∞—á–∞–Ω –∫–æ–¥ –ø—Ä–æ–µ–∫—Ç–∞
- [ ] –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (`pnpm install`)
- [ ] –ü–æ–ª—É—á–µ–Ω —Ç–æ–∫–µ–Ω –æ—Ç BotFather
- [ ] –°–æ–∑–¥–∞–Ω —Ñ–∞–π–ª `.env.local` —Å —Ç–æ–∫–µ–Ω–æ–º
- [ ] –ó–∞–ø—É—â–µ–Ω –±–æ—Ç (`pnpm dev`)
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω –≤ Telegram (`/start`)
- [ ] –î–æ–±–∞–≤–ª–µ–Ω—ã Stripe –∫–ª—é—á–∏
- [ ] –î–æ–±–∞–≤–ª–µ–Ω—ã –∏–≥—Ä–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
- [ ] –°–æ–∑–¥–∞–Ω GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
- [ ] –†–∞–∑–≤—ë—Ä–Ω—É—Ç–æ –Ω–∞ Render.com
- [ ] –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω webhook –¥–ª—è Telegram

---

## üÜò –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º –Ω–∞ Windows

### –û—à–∏–±–∫–∞: "pnpm is not recognized"

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ –∫–æ–º–ø—å—é—Ç–µ—Ä
2. –û—Ç–∫—Ä–æ–π—Ç–µ –Ω–æ–≤—ã–π Command Prompt
3. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞

### –û—à–∏–±–∫–∞: "git is not recognized"

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ –∫–æ–º–ø—å—é—Ç–µ—Ä
2. –û—Ç–∫—Ä–æ–π—Ç–µ –Ω–æ–≤—ã–π Command Prompt
3. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞

### –û—à–∏–±–∫–∞: "Bot token is invalid"

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Ç–æ–∫–µ–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω –≤ `.env.local`
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –Ω–µ—Ç –ø—Ä–æ–±–µ–ª–æ–≤ –≤ –Ω–∞—á–∞–ª–µ –∏–ª–∏ –∫–æ–Ω—Ü–µ
3. –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ Command Prompt

### –û—à–∏–±–∫–∞: "Cannot find module"

**–†–µ—à–µ–Ω–∏–µ:**
1. –û—Ç–∫—Ä–æ–π—Ç–µ Command Prompt –≤ –ø–∞–ø–∫–µ –ø—Ä–æ–µ–∫—Ç–∞
2. –ù–∞–ø–∏—à–∏—Ç–µ: `pnpm install`
3. –ü–æ–¥–æ–∂–¥–∏—Ç–µ, –ø–æ–∫–∞ —É—Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

### –ë–æ—Ç –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç –≤ Telegram

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ `pnpm dev` –∑–∞–ø—É—â–µ–Ω
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Ç–æ–∫–µ–Ω –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ Command Prompt

---

## üìö –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã –¥–ª—è Windows

| –ö–æ–º–∞–Ω–¥–∞ | –ß—Ç–æ –¥–µ–ª–∞–µ—Ç |
|---------|-----------|
| `pnpm dev` | –ó–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç–∞ –ª–æ–∫–∞–ª—å–Ω–æ |
| `pnpm build` | –°–æ–±—Ä–∞—Ç—å –∫–æ–¥ –¥–ª—è —Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏—è |
| `pnpm start` | –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–æ–±—Ä–∞–Ω–Ω—ã–π –∫–æ–¥ |
| `git status` | –ü–æ–∫–∞–∑–∞—Ç—å —Å—Ç–∞—Ç—É—Å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è |
| `git add .` | –î–æ–±–∞–≤–∏—Ç—å –≤—Å–µ —Ñ–∞–π–ª—ã –¥–ª—è –∫–æ–º–º–∏—Ç–∞ |
| `git commit -m "—Å–æ–æ–±—â–µ–Ω–∏–µ"` | –°–æ–∑–¥–∞—Ç—å –∫–æ–º–º–∏—Ç |
| `git push` | –ó–∞–≥—Ä—É–∑–∏—Ç—å –Ω–∞ GitHub |

---

## üéì –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

- [Node.js –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](https://nodejs.org/docs/)
- [Git –¥–ª—è Windows](https://git-scm.com/download/win)
- [Telegram Bot API](https://core.telegram.org/bots/api)
- [Telegraf –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](https://telegraf.js.org/)
- [Stripe –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](https://stripe.com/docs)
- [Render –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](https://render.com/docs)

---

**–£–¥–∞—á–∏! üöÄ**

–ï—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å –≤–æ–ø—Ä–æ—Å—ã, —Å–ø—Ä–æ—Å–∏—Ç–µ –º–µ–Ω—è!
